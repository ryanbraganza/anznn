- field_id = "question_#{q.id}"
- answer = @question_id_to_answers[q.id]

.clearfix{id: "container_#{q.id}"}
  = label_tag field_id, q.question, class: 'domain', title: (q.data_domain ? q.data_domain.gsub(/\n/m, '<br>') : "")
  .input
    - case q.question_type
      - when 'Text'
        = text_field_tag "answers[#{q.id}]", answer, id: field_id, class: 'xxlarge', placeholder: 'Text Response'
      - when 'Date'
        - day = answer.nil? ? nil : answer.day
        - month = answer.nil? ? nil : answer.month
        - year = answer.nil? ? nil : answer.year
        = select_day(day, field_name: "#{q.id}][day", class: "small", id: field_id, prompt: true, prefix: "answers")
        = select_month(month, field_name: "#{q.id}][month", class: "small", id: field_id, prompt: true, prefix: "answers", use_month_numbers: true)
        = select_year(year, field_name: "#{q.id}][year", class: "small", id: field_id, prompt: true, prefix: "answers")
      - when 'Time'
        - hour = answer.nil? ? nil : answer.hour
        - min = answer.nil? ? nil : answer.min
        = select_hour(hour, field_name: "#{q.id}][hour", class: "small", id: field_id, prompt: true, prefix: "answers")
        = select_minute(min, field_name: "#{q.id}][min", class: "small", id: field_id, prompt: true, prefix: "answers")
      - when 'Choice'
        (Choice Questions not implemented)
      - when 'Decimal'
        (Decimal Questions not implemented)
      - when 'Integer'
        (Integer Questions not implemented)
      - else
        Question type not recognised!
    %span.help-block= HelpTextGenerator.new(q).help_text


-#= text_field_tag "answers[#{q.id}]", @question_id_to_answers[q.id],
-#  id: field_id,
-#  class: 'xxlarge field_trigger',
-#
